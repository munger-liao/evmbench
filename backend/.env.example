# Local development defaults.
#
# This file contains placeholder credentials/tokens that are sufficient to run
# the stack on your own machine (they are intentionally NOT secure).
#
# For any internet-exposed deployment, replace these values with strong secrets.
# Quick generation helpers:
#   python -c "import secrets; print(secrets.token_urlsafe(32))"
#   openssl rand -hex 32
#
BACKEND_DEV=false
# Note: `compose.yml` overrides this to `0.0.0.0` inside the container.
BACKEND_WEB_HOST='127.0.0.1'
BACKEND_WEB_PORT=1337
BACKEND_WEB_WORKERS=4

POSTGRES_USER='evmbench'
# Local dev database password (OK for localhost only).
POSTGRES_PASSWORD='DO_NOT_USE_ME'
POSTGRES_DB='evmbench'

RABBITMQ_USER='evmbench'
# Local dev RabbitMQ password (OK for localhost only).
RABBITMQ_PASSWORD='DO_NOT_USE_ME'
RABBITMQ_PORT=5672
RABBITMQ_QUEUE='instancer.jobs'

# Service-to-service tokens (used to gate secrets bundle reads/writes).
SECRETS_TOKEN_RO='dev-secret'
SECRETS_TOKEN_WO='dev-secret-wo'
BACKEND_SECRETS_BACKEND='http'
BACKEND_SECRETS_BACKEND_ARGUMENTS='{"url":"http://127.0.0.1:8081","token":"dev-secret-wo"}'

SECRETSVC_HOST='127.0.0.1'
SECRETSVC_PORT=8081
SECRETSVC_WORKERS=1

RESULTSVC_PORT=8083

# OpenAI key handling
# - direct: user provides OpenAI key; worker uses it directly
# - proxy (default): worker receives an encrypted token; oai_proxy decrypts + forwards
BACKEND_OAI_KEY_MODE=proxy

# Use proxy's static key (the real API key never leaves oai_proxy)
BACKEND_USE_PROXY_STATIC_KEY=true

# Proxy mode settings
OAI_PROXY_BASE_URL=http://oai.loc:8085
OAI_PROXY_AES_KEY=dev-aes-key-for-local-testing-only

# oai_proxy service settings
OAI_PROXY_HOST=0.0.0.0
OAI_PROXY_PORT=8085
OAI_PROXY_WORKERS=1

# LiteLLM configuration (replace with your own)
OAI_PROXY_STATIC_KEY=sk-your-litellm-api-key
OAI_PROXY_OPENAI_BASE_URL=https://your-litellm-endpoint.example.com
OAI_PROXY_WIRE_API=responses

# vvv when unset, docker backend defaults to (CPU count)*3
# INSTANCER_MAX_CONCURRENT_JOBS=5

# AUTH_BACKEND=github
# AUTH_BACKEND_ARGUMENTS='{"client_id":"client_id","client_secret":"client_secret"}'

# JWT signing key for auth sessions (OK for localhost only).
BACKEND_JWT_SECRET=DO_NOT_USE_ME

# when running with compose.yml, these will be set automatically:
# DATABASE_DSN=postgresql+asyncpg://evmbench:DO_NOT_USE_ME@127.0.0.1:5432/evmbench
# RABBITMQ_DSN=amqp://evmbench:DO_NOT_USE_ME@127.0.0.1:5672/
